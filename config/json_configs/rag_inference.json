{
    "type": "rag_inference",
    "query_rewrite_config": {
        "type": "llm_query_rewriter",
        "chat_llm_config": {
            "type": "openai_chat",
            "model_name": "gpt-4o-mini",
            "openai_api_key": "${OPENAI_API_KEY}",
            "openai_base_url": "${OPENAI_BASE_URL}"
        }
    },
    "retrieval_config": {
        "type": "multipath",
        "retrievers": [
            {
                "type": "dense",
                "index_config": {
                    "index_path": "./data/unified_faiss_index",
                    "metric": "cosine",
                    "index_type": "flat",
                    "normalize_L2": true,
                    "embedding_config": {
                        "type": "qwen_embedding",
                        "model_name": "${EMBEDDING_MODEL_NAME}",
                        "device": "${DEVICE}",
                        "use_china_mirror": true,
                        "cache_folder": "./models/Qwen"
                    }
                }
            },
            {
                "type": "tantivy_bm25",
                "index_config": {
                    "type": "bm25_builder",
                    "index_path": "./data/unified_bm25_index"
                }
            },
            {
                "type": "pruned_hipporag_neo4j_retrieval",
                "graph_config": {
                    "type": "pruned_hipporag_neo4j",
                    "url": "${NEO4J_URL}",
                    "username": "${NEO4J_USERNAME}",
                    "password": "${NEO4J_PASSWORD}",
                    "database": "${NEO4J_DATABASE}",
                    "storage_path": "./data/graph_index_neo4j",
                    "index_name": "index",
                    "embedding": {
                        "type": "qwen_embedding",
                        "model_name": "${EMBEDDING_MODEL_NAME}",
                        "device": "${DEVICE}",
                        "use_china_mirror": true,
                        "cache_folder": "./models/Qwen"
                    },
                    "add_synonymy_edges": true,
                    "synonymy_edge_topk": 100,
                    "synonymy_edge_sim_threshold": 0.8,
                    "use_float16_embeddings": true,
                    "normalize_chunk_embeddings": true
                },
                "llm_config": {
                    "type": "openai_chat",
                    "model_name": "gpt-4o-mini",
                    "temperature": 0.0
                },
                "fact_retrieval_top_k": 10,
                "max_facts_after_reranking": 5,
                "enable_llm_reranking": true,
                "damping_factor": 0.5,
                "ppr_backend": "push"
            }
        ],
        "fusion_method": "rrf",
        "rrf_k": 60,
        "weights": null,
        "search_kwargs": {
            "k": 5,
            "with_score": true
        }
    },
    "reranker_config": {
        "type": "llm_reranker",
        "rerank_llm_config": {
            "type": "qwen_rerank",
            "model_name": "Qwen/Qwen3-Reranker-0.6B",
            "device": "${DEVICE}",
            "use_china_mirror": true,
            "cache_folder": "./models/Qwen"
        }
    },
    "llm_config": {
        "type": "openai_chat",
        "openai_api_key": "${OPENAI_API_KEY}",
        "openai_base_url": "${OPENAI_BASE_URL}"
    }
}
